###############################################################################
# Variable definitions for targets to build
###############################################################################
ZLIB_DIR = $(SOURCE)/3rdparty/zlib

ZLIB_TARGETS = libz$(LIBEXT)

ZLIB_SRC = adler32.c compress.c crc32.c gzio.c uncompr.c deflate.c trees.c \
       zutil.c inflate.c infblock.c inftrees.c infcodes.c infutil.c inffast.c

ZLIB_OBJS = $(ZLIB_SRC:.c=.o)

###############################################################################
# global rules: all, clean, depend, messages
###############################################################################
all: $(ZLIB_TARGETS)

clean:
	$(RM) libz.a libz$(SHAREDEXT) $(ZLIB_OBJS)

depend:
	

messages:
	

###############################################################################
# rules to build library
###############################################################################
libz.a:	$(ZLIB_OBJS) 
	$(AR) $(ARFLAGS) libz.a $(ZLIB_OBJS)
	$(RANLIB) libz.a

libz$(SHAREDEXT): $(ZLIB_OBJS)
	$(SHAREDLD) $(SHARED_LFLAGS) -o libz$(SHAREDEXT) $(ZLIB_OBJS) $(LIBS) -lc

###############################################################################
# include dependencies for object files generated by sge_depend
###############################################################################

###############################################################################
# rules to build object codes
###############################################################################
adler32.o: 	$(ZLIB_DIR)/adler32.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/adler32.c

compress.o: 	$(ZLIB_DIR)/compress.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/compress.c

crc32.o: 	$(ZLIB_DIR)/crc32.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/crc32.c

gzio.o: 	$(ZLIB_DIR)/gzio.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/gzio.c

uncompr.o: 	$(ZLIB_DIR)/uncompr.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/uncompr.c

deflate.o: 	$(ZLIB_DIR)/deflate.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/deflate.c

trees.o: 	$(ZLIB_DIR)/trees.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/trees.c

zutil.o: 	$(ZLIB_DIR)/zutil.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/zutil.c

inflate.o: 	$(ZLIB_DIR)/inflate.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/inflate.c

infblock.o: 	$(ZLIB_DIR)/infblock.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/infblock.c

inftrees.o: 	$(ZLIB_DIR)/inftrees.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/inftrees.c

infcodes.o: 	$(ZLIB_DIR)/infcodes.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/infcodes.c

infutil.o: 	$(ZLIB_DIR)/infutil.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/infutil.c

inffast.o: 	$(ZLIB_DIR)/inffast.c
		$(CC) $(CFLAGS) $(SHARED_CFLAGS) -c $(ZLIB_DIR)/inffast.c


